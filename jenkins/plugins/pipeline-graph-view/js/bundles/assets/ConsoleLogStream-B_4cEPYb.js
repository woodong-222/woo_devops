import{j as f,r as l,R as v}from"./PipelineGraphModel-Ki6ilJKM.js";import{O as C,t as S,l as N}from"./PipelineConsole-DYA9HihX.js";import"./stages-BtOxAIYE.js";import"./PipelineGraph-BH282MPm.js";import"./user-preference-provider-CcQ_e5qW.js";import"./symbols-ifmXPLpJ.js";import"./user-permission-provider-DO0qJWRS.js";import"../pipeline-console-view-bundle.js";var I={amp:"&",gt:">",lt:"<",nbsp:"Â ",quot:'"'},E=/^#[xX]([A-Fa-f0-9]+)$/,w=/^#([0-9]+)$/,x=/^([A-Za-z0-9]+)$/,V=function(){function i(e){this.named=e}return i.prototype.parse=function(e){if(e){var n=e.match(E);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(w),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(x),n)return this.named[n[1]]||"&"+n[1]+";"}},i}(),P=/[\t\n\f ]/,L=/[A-Za-z]/,G=/\r\n?/g;function u(i){return P.test(i)}function y(i){return L.test(i)}function B(i){return i.replace(G,`
`)}var $=function(){function i(e,n,s){s===void 0&&(s="precompile"),this.delegate=e,this.entityParser=n,this.mode=s,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var t=this.peek();if(t==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&t===`
`){var o=this.tagNameBuffer.toLowerCase();(o==="pre"||o==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var t=this.peek(),o=this.tagNameBuffer;t==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):t==="&"&&o!=="script"&&o!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(t))},tagOpen:function(){var t=this.consume();t==="!"?this.transitionTo("markupDeclarationOpen"):t==="/"?this.transitionTo("endTagOpen"):(t==="@"||t===":"||y(t))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(t))},markupDeclarationOpen:function(){var t=this.consume();if(t==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var o=t.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();o==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var t=this.consume();u(t)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var t=this.consume();u(t)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(t.toLowerCase()))},doctypeName:function(){var t=this.consume();u(t)?this.transitionTo("afterDoctypeName"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(t.toLowerCase())},afterDoctypeName:function(){var t=this.consume();if(!u(t))if(t===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var o=t.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),h=o.toUpperCase()==="PUBLIC",r=o.toUpperCase()==="SYSTEM";(h||r)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),h?this.transitionTo("afterDoctypePublicKeyword"):r&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var t=this.peek();u(t)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):t==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):t==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):t===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var t=this.consume();t==='"'?this.transitionTo("afterDoctypePublicIdentifier"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(t)},doctypePublicIdentifierSingleQuoted:function(){var t=this.consume();t==="'"?this.transitionTo("afterDoctypePublicIdentifier"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(t)},afterDoctypePublicIdentifier:function(){var t=this.consume();u(t)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):t==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):t==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var t=this.consume();u(t)||(t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):t==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):t==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var t=this.consume();t==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(t)},doctypeSystemIdentifierSingleQuoted:function(){var t=this.consume();t==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):t===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(t)},afterDoctypeSystemIdentifier:function(){var t=this.consume();u(t)||t===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var t=this.consume();t==="-"&&this.peek()==="-"?this.transitionTo("commentStartDash"):t===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(t),this.transitionTo("comment"))},commentStartDash:function(){var t=this.consume();t==="-"?this.transitionTo("commentEnd"):t===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var t=this.consume();t==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(t)},commentEndDash:function(){var t=this.consume();t==="-"&&this.peek()==="-"?this.delegate.appendToCommentData(t):t==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+t),this.transitionTo("comment"))},commentEnd:function(){var t=this.consume();t===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+t),this.transitionTo("comment"))},tagName:function(){var t=this.consume();u(t)?this.transitionTo("beforeAttributeName"):t==="/"?this.transitionTo("selfClosingStartTag"):t===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(t)},endTagName:function(){var t=this.consume();u(t)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):t==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):t===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(t)},beforeAttributeName:function(){var t=this.peek();if(u(t)){this.consume();return}else t==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):t===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):t==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var t=this.peek();u(t)?(this.transitionTo("afterAttributeName"),this.consume()):t==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):t==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):t===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):t==='"'||t==="'"||t==="<"?(this.delegate.reportSyntaxError(t+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(t)):(this.consume(),this.delegate.appendToAttributeName(t))},afterAttributeName:function(){var t=this.peek();if(u(t)){this.consume();return}else t==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):t==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):t===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t))},beforeAttributeValue:function(){var t=this.peek();u(t)?this.consume():t==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):t==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):t===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(t))},attributeValueDoubleQuoted:function(){var t=this.consume();t==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):t==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(t)},attributeValueSingleQuoted:function(){var t=this.consume();t==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):t==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(t)},attributeValueUnquoted:function(){var t=this.peek();u(t)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):t==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):t==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):t===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(t))},afterAttributeValueQuoted:function(){var t=this.peek();u(t)?(this.consume(),this.transitionTo("beforeAttributeName")):t==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):t===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var t=this.peek();t===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var t=this.consume();(t==="@"||t===":"||y(t))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(t))}},this.reset()}return i.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},i.prototype.transitionTo=function(e){this.state=e},i.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},i.prototype.tokenizePart=function(e){for(this.input+=B(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},i.prototype.tokenizeEOF=function(){this.flushData()},i.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},i.prototype.peek=function(){return this.input.charAt(this.index)},i.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},i.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),s=this.entityParser.parse(n);if(s){for(var t=n.length;t;)this.consume(),t--;return this.consume(),s}}},i.prototype.markTagStart=function(){this.delegate.tagOpen()},i.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},i.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},i}(),z=function(){function i(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new $(this,e,n.mode),this._currentAttribute=void 0}return i.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},i.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},i.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},i.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},i.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},i.prototype.push=function(e){this.token=e,this.tokens.push(e)},i.prototype.currentAttribute=function(){return this._currentAttribute},i.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},i.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},i.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},i.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},i.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},i.prototype.endDoctype=function(){this.addLocInfo()},i.prototype.beginData=function(){this.push({type:"Chars",chars:""})},i.prototype.appendToData=function(e){this.current("Chars").chars+=e},i.prototype.finishData=function(){this.addLocInfo()},i.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},i.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},i.prototype.finishComment=function(){this.addLocInfo()},i.prototype.tagOpen=function(){},i.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},i.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},i.prototype.finishTag=function(){this.addLocInfo()},i.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},i.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},i.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},i.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},i.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},i.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},i.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},i.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},i}();function O(i,e){var n=new z(new V(I),e);return n.tokenize(i)}const D="LinkifyResult",g="StartTag",k="EndTag",b="Chars",R="Comment",F="Doctype";function Q(i,e={}){const n=O(i),s=[],t=[],o=new C(e,H);for(let h=0;h<n.length;h++){const r=n[h];if(r.type===g){s.push(r);const a=r.tagName.toUpperCase();if(!(a==="A"||o.ignoreTags.indexOf(a)>=0))continue;let p=s.length;U(a,n,++h,s),h+=s.length-p-1}else if(r.type!==b)s.push(r);else{const a=j(r.chars,o);s.push.apply(s,a)}}for(let h=0;h<s.length;h++){const r=s[h];switch(r.type){case D:t.push(r.rendered);break;case g:{let a="<"+r.tagName;r.attributes.length>0&&(a+=" "+_(r.attributes).join(" ")),r.selfClosing&&(a+=" /"),a+=">",t.push(a);break}case k:t.push(`</${r.tagName}>`);break;case b:t.push(T(r.chars));break;case R:t.push(`<!--${T(r.chars)}-->`);break;case F:{let a=`<!DOCTYPE ${r.name}`;r.publicIdentifier&&(a+=` PUBLIC "${r.publicIdentifier}"`),r.systemIdentifier&&(a+=` "${r.systemIdentifier}"`),a+=">",t.push(a);break}}}return t.join("")}function j(i,e){const n=S(i),s=[];for(let t=0;t<n.length;t++){const o=n[t];o.t==="nl"&&e.get("nl2br")?s.push({type:g,tagName:"br",attributes:[],selfClosing:!0}):!o.isLink||!e.check(o)?s.push({type:b,chars:o.toString()}):s.push({type:D,rendered:e.render(o)})}return s}function U(i,e,n,s){let t=1;for(;n<e.length&&t>0;){let o=e[n];o.type===g&&o.tagName.toUpperCase()===i?t++:o.type===k&&o.tagName.toUpperCase()===i&&t--,s.push(o),n++}return s}function H({tagName:i,attributes:e,content:n}){return`<${i} ${q(e)}>${T(n)}</${i}>`}function T(i){return i.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(i){return i.replace(/"/g,"&quot;")}function q(i){const e=[];for(const n in i){const s=i[n]+"";e.push(`${n}="${A(s)}"`)}return e.join(" ")}function _(i){const e=[];for(let n=0;n<i.length;n++){const s=i[n][0],t=i[n][1]+"";e.push(`${s}="${A(t)}"`)}return e}function M(i){const e=/^\u001b\[([;0-9]*)m$/,n={isSelectGraphicRendition:!1,escapeCode:i},s=e.exec(i);if(s){n.isSelectGraphicRendition=!0,n.setFG=!1,n.setBG=!1,n.resetFG=!1,n.resetBG=!1;const t=(s[1]||"").split(";").map(o=>parseInt(o||"0"));for(const o of t)o>=30&&o<=37?n.setFG=o-30:o>=40&&o<=47?n.setBG=o-40:((o===38||o===0)&&(n.resetFG=!0,n.setFG=!1),(o===48||o===0)&&(n.resetBG=!0,n.setBG=!1))}return n}function W(i){if(typeof i!="string")return[];const e=i.length;if(e===0)return[];let n=0,s=0,t=0,o=0,h=0;const r=[];for(;n<e&&(s=i.indexOf("\x1B",n),s!==-1);){if(o=i.indexOf("<!--",n),h=i.indexOf("-->",o),h!==-1&&(h+=3),s>o&&s<h){n=h;continue}s>n&&(r.push(i.substring(n,s)),n=s),s+=2;let a=i.charCodeAt(s);for(;s<e&&(a<64||a>126);)s++,a=i.charCodeAt(s);const c=M(i.substring(n,s+1));r.push(c),n=s+1,t=n}return t<e&&r.push(i.substr(t)),r}function Y(i,e){const n=[];let s={setFG:!1,setBG:!1};for(let t=0;t<i.length;t++){const o=i[t];if(typeof o=="string")if(!s.setFG&&!s.setBG)n.push(f.jsx("div",{dangerouslySetInnerHTML:{__html:o}},`${e}-${t}`));else{const h=[];typeof s.setFG=="number"&&h.push(`ansi-fg-${s.setFG}`),typeof s.setBG=="number"&&h.push(`ansi-bg-${s.setBG}`),n.push(f.jsx("span",{className:h.join(" "),children:o}))}else if(o.isSelectGraphicRendition){const h={...s};o.resetFG&&(h.setFG=!1),o.resetBG&&(h.setBG=!1),typeof o.setFG=="number"&&(h.setFG=o.setFG),typeof o.setBG=="number"&&(h.setBG=o.setBG),s=h}}return n}const K=l.memo(function(e){const n=`?start-byte=${e.startByte}&selected-node=${e.stepId}`,s=`log-${e.stepId}-${e.lineNumber}`;return f.jsx("pre",{style:{background:"none",border:"none"},className:"console-output-line",children:f.jsxs("div",{className:"console-output-line",children:[f.jsx("a",{className:"console-line-number",id:s,href:`${n}#${s}`,onClick:()=>{history.replaceState({},"",n)},style:{width:Math.max(9*String(e.lineNumber).length,30)+"px"},children:e.lineNumber}),f.jsx("div",{className:"console-text",children:Y(W(Q(e.content,N)),s)})]})})});function m(){return!window.location.hash.startsWith("#log-")}function ot({step:i,logBuffer:e,onMoreConsoleClick:n}){const s=l.useRef(null),[t,o]=l.useState(!1);l.useEffect(()=>()=>{s.current&&clearInterval(s.current)},[]),l.useEffect(()=>{t&&e.lines.length>0&&m()&&e.lines&&requestAnimationFrame(()=>{if(!m())return;const a=document.documentElement.scrollHeight;window.scrollTo({top:a})})},[t,e.lines]),l.useEffect(()=>{if(!m())return;const a=()=>{if(!m()){window.removeEventListener("scroll",a),o(!1);return}const c=window.scrollY+window.innerHeight,d=document.body.scrollHeight-c<300;o(d)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),l.useEffect(()=>{const a=i.state===v.running||e.startByte<0;t&&a?s.current||(s.current=window.setInterval(()=>{n(i.id,e.startByte)},1e3)):s.current&&(clearInterval(s.current),s.current=null)},[t,i,e,n]);const[h,r]=l.useState(window.location.hash.startsWith("#log-"));return l.useEffect(()=>{if(!h)return;let a=window.location.hash;if(!a.startsWith("#log-"))return;let[c,p]=a.slice(5).split("-");if(p&&c!==i.id){r(!1);return}p||(p=c,c=i.id,a=`#log-${c}-${p}`,location.hash=a);const d=document.getElementById(a.slice(1));d&&(d.scrollIntoView({behavior:"smooth",block:"center"}),location.hash="",location.hash=a,r(!1))},[h,i.id,e.lines]),f.jsx("div",{role:"log",children:e.lines.map((a,c)=>f.jsx(K,{lineNumber:String(c),content:a,stepId:i.id,startByte:e.startByte},c))})}export{ot as default};
//# sourceMappingURL=ConsoleLogStream-B_4cEPYb.js.map
